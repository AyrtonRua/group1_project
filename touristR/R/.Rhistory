}
plot_count_change(lausanne)
keyword
plot_count_change <- function(keyword) {
browser()
if(is.character(keyword)==TRUE) {
keyword
} else {
input    <-   deparse(substitute(keyword))
}
input <- paste("#", input,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = lubridate::ymd(Sys.Date()  )  ,
until = (lubridate::ymd(Sys.Date() )  - 30)
)
}
plot_count_change(lausanne)
plot_count_change <- function(keyword) {
input    <-   deparse(substitute(keyword))
input <- paste("#", input,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = lubridate::ymd(Sys.Date()  )  ,
until = (lubridate::ymd(Sys.Date() )  - 30)
)
}
plot_count_change(lausanne)
plot_count_change <- function(keyword) {
keyword    <-   deparse(substitute(keyword))
input <- paste("#", input,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = lubridate::ymd(Sys.Date()  )  ,
until = (lubridate::ymd(Sys.Date() )  - 30)
)
}
plot_count_change(lausanne)
plot_count_change <- function(keyword) {
keyword    <-   deparse(substitute(keyword))
input <- paste("#", keyword,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = lubridate::ymd(Sys.Date()  )  ,
until = (lubridate::ymd(Sys.Date() )  - 30)
)
}
plot_count_change(lausanne)
plot_count_change(lausanne)
plot_count_change <- function(keyword) {
keyword    <-   deparse(substitute(keyword))
input <- paste("#", keyword,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = as.character ( lubridate::ymd(Sys.Date()  )  )  ,
until = as.character ( (lubridate::ymd(Sys.Date() )  - 30) )
)
}
plot_count_change(lausanne)
plot_count_change <- function(keyword) {
keyword    <-   deparse(substitute(keyword))
input <- paste("#", keyword,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = as.character ( lubridate::ymd(Sys.Date()  )  )  ,
until = as.character ( (lubridate::ymd(Sys.Date() )  - 7) )
)
}
plot_count_change(lausanne)
plot_count_change <- function(keyword) {
keyword    <-   deparse(substitute(keyword))
input <- paste("#", keyword,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = as.character ( lubridate::ymd(Sys.Date()  )  )  ,
until = as.character ( (lubridate::ymd(Sys.Date() )  - 1) )
)
}
plot_count_change(lausanne)
as.character ( (lubridate::ymd(Sys.Date() )  - 30) )
as.character ( lubridate::ymd(Sys.Date()  )  )
plot_count_change <- function(keyword) {
keyword    <-   deparse(substitute(keyword))
input <- paste("#", keyword,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = as.character ( (lubridate::ymd(Sys.Date() )  - 30) )   ,
until = as.character ( lubridate::ymd(Sys.Date()  )  )
)
}
plot_count_change(lausanne)
plot_count_change <- function(keyword) {
if(is.character(keyword)==TRUE) {
keyword <- keyword
} else{
keyword    <-   deparse(substitute(keyword))
}
input <- paste("#", keyword,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = as.character ( (lubridate::ymd(Sys.Date() )  - 30) )   ,
until = as.character ( lubridate::ymd(Sys.Date()  )  )
)
}
plot_count_change(lausanne)
plot_count_change <- function(keyword) {
if(is.character(keyword)==TRUE) {
keyword <- as.character( keyword)
} else{
keyword    <-   deparse(substitute(keyword))
}
input <- paste("#", keyword,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = as.character ( (lubridate::ymd(Sys.Date() )  - 30) )   ,
until = as.character ( lubridate::ymd(Sys.Date()  )  )
)
}
plot_count_change(lausanne)
plot_count_change(keyword = lausanne)
plot_count_change <- function(keyword) {
browser()
if(is.character(keyword)==TRUE) {
keyword <- as.character( keyword)
} else{
keyword    <-   deparse(substitute(keyword))
}
input <- paste("#", keyword,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = as.character ( (lubridate::ymd(Sys.Date() )  - 30) )   ,
until = as.character ( lubridate::ymd(Sys.Date()  )  )
)
}
plot_count_change(keyword = lausanne)
deparse(substitute(keyword))
deparse(substitute("keyword"))
as.character( keyword)
plot_count_change <- function(keyword) {
browser()
if(is.character(keyword)==TRUE) {
keyword <- keyword
} else{
keyword    <-   deparse(substitute(keyword))
}
input <- paste("#", keyword,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = as.character ( (lubridate::ymd(Sys.Date() )  - 30) )   ,
until = as.character ( lubridate::ymd(Sys.Date()  )  )
)
}
plot_count_change(keyword = lausanne)
function(keyword) {
browser()
if(is.character(keyword)==TRUE) {
keyword <- keyword
} else{
keyword    <-   deparse(substitute(keyword))
}
input <- paste("#", keyword,sep="")
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = as.character ( (lubridate::ymd(Sys.Date() )  - 30) )   ,
until = as.character ( lubridate::ymd(Sys.Date()  )  )
)
}
plot_count_change(keyword = lausanne)
plot_count_change <- function(keyword) {
browser()
if(is.character(keyword)==TRUE) {
keyword <- keyword
} else{
keyword    <-   deparse(substitute(keyword))
}
}
plot_count_change(keyword = lausanne)
plot_count_change <- function(keyword) {
if(is.character(keyword)==TRUE) {
keyword <- keyword
} else{
keyword    <-   deparse(substitute(keyword))
}
}
plot_count_change <- function(keyword) {
if(is.character(keyword)==TRUE) {
keyword <- keyword
print("yes")
} else{
keyword    <-   deparse(substitute(keyword))
print("no")
}
}
plot_count_change(keyword = "lausanne")
plot_count_change(keyword = lausanne)
plot_count_change <- function(keyword) {
browser()
if(is.character(keyword)==FALSE) {
keyword    <-   deparse(substitute(keyword))
} else{
keyword <- keyword
}
}
plot_count_change(keyword = lausanne)
library(ggmap)
geocode(location =
as.character(paris) ,
source = "google")
as.character(paris)
geocode(location =
as.character("paris") ,
source = "google")
geocode(location =
as.character("paris") ,
source = "dsk")
geocode(location =
as.character("museum louvre") ,
source = "dsk")
geocode(location =
as.character("eiffel tower") ,
source = "dsk")
df <- geocode(location =
"paris" ,
source = "dsk") %>% as.data.frame() %>% rename("long" =lon)
library(tidyverse)
library(ggmap)
df <- geocode(location =
"paris" ,
source = "dsk") %>% as.data.frame() %>% rename("long" =lon)
df
View(df)
geocode_id <- "paris"
df <- geocode(location =
geocode_id ,
source = "dsk") %>% as.data.frame() %>% rename("long" =lon) %>% mutate(city=geocode_id)
View(df)
View(df)
tibble(city=geocode_id)
df <- tibble(city=geocode_id) %>% geocode(location =
geocode_id ,
source = "dsk") %>% as.tibble() %>% rename("long" =lon)
tibble(city=geocode_id) %>% geocode(location =
geocode_id ,
source = "dsk")
geocode(location =
geocode_id ,
source = "dsk")
data.frame(city=geocode_id
data.frame(city=geocode_id)
dataframe(city=geocode_id)
as.data.frame(city=geocode_id)
as.tibble(city=geocode_id)
vector(city=geocode_id)
data.frame(city=geocode_id)
df %>% mutate( geocode(location =
geocode_id ,
source = "dsk")  )
geocode(location =
geocode_id ,
source = "dsk")
geocode(location =
geocode_id ,
source = "dsk") %>% as.tibble()
df <- geocode(location =
geocode_id ,
source = "dsk") %>% as.tibble() %>% rename("long" =lon) %>% mutate(city=geocode_id) %>% select(city, long, lat)
df
paste(df$lat, df$long, 40mi)
paste(df$lat, df$long, "40mi", sep=",")
plot_count_change <- function(keyword) {
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
input <- paste("#", keyword,sep="")
geocode_id <- keyword
library(tidyverse)
library(ggmap)
df <- geocode(location =
geocode_id ,
source = "dsk") %>% as.tibble() %>% rename("long" = lon) %>% mutate(city =
geocode_id) %>% select(city, long, lat)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = as.character ( (lubridate::ymd(Sys.Date() )  - 30) )   ,
until = as.character ( lubridate::ymd(Sys.Date()  )       ),
geocode = paste(df$lat, df$long, "40mi", sep=",")
)
}
plot_count_change <- function(keyword) {
consumer_key <- 'ugjqg8RGNvuTAL1fEiNtw'
consumer_secret <- '4WjuEbP6QLUN2DwDzyTwmdMES6fgnOsS65fWxpT8I'
access_token <-
'76887198-JA3xCVO1vvQMqMDiIobWKKGQxYKSB0CV2lI2PZ7GL'
access_secret <- 'IvzlVOC8KkIaMR5s5K4u2IXbxKQv7EcUSvy2bnaru8gKz'
options(httr_oauth_cache = TRUE)
setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)
#
#
library(twitteR)
input <- paste("#", keyword,sep="")
geocode_id <- keyword
library(tidyverse)
library(ggmap)
df <- geocode(location =
geocode_id ,
source = "dsk") %>% as.tibble() %>% rename("long" = lon) %>% mutate(city =
geocode_id) %>% select(city, long, lat)
#run query for all data per  month going from past 6 month until today
searchTwitter(
input,
n = 10,
lang = "en",
resultType = "mixed",
since = as.character ( (lubridate::ymd(Sys.Date() )  - 30) )   ,
until = as.character ( lubridate::ymd(Sys.Date()  )       ),
geocode = paste(df$lat, df$long, "40mi", sep=",")
)
}
plot_count_change(keyword = "lausanne")
